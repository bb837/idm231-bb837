//       OBJECTS        //////////////////////////////////////////////////////

const Ari = {
  name: 'Aries',
  date: 'March 21 - April 19',
  truePairing: 'Gemini',
  sound: 'media/aries_audio.mp3',
  description: "The traits of an Aries include the fierce need for individuality. Aries have strong opinions and personalities and they need to be number-one. They are competitive and love a challenge, but are often better at starting than finishing. It takes a lot to hold an Aries’ attention span—though when they find their obsessions they go in all the way! Aries is the sign of the trendsetter and trailblazer. As the zodiac’s first sign, Aries loves anything new. Your true pairing is:",
}

const Tau = {
  name: 'Taurus',
  date: 'April 20 - May 20',
  truePairing: 'Cancer',
  sound: 'media/taurus_audio_v02.mp3',
  description: "Have you ever met someone who was hardworking, persistent and even a little bit stubborn? Chances are, this person was a Taurus. Among the traits of a Taurus is their built-in energy conservation program. Taurus energy has two speeds: relaxed and contented or hyped-up and ready to charge like a Bull. A Taurus will patiently assess whether something is worth the investment of their time and resources. But until then, slow and steady wins the Taurus race. This sign encourages us to break our work into simple steps then take daily action. Taurus is the sign of the persistent provider who loves life’s earthly pleasures. As the zodiac’s second sign, Taurus craves a sense of security and stability. Your true pairing is:",
}

const Gem = {
  name: 'Gemini',
  date: 'May 21 - June 21',
  truePairing: 'Aries',
  sound: 'media/gemini_audio.mp3',
  description: "The traits of a Gemini, the star sign ruled by the Twins, is their desire for synergistic communication. Gemini has strong opinions and personalities and they often need to be the center of attention. They are highly versatile love a good argument, but will often butt heads with those whose opinions differ from their own. It takes a lot to hold an Gemini’s attention span—though once they find their passion they go in all the way! Gemini is the sign of kindred spirit energy. As the zodiac’s third sign, Gemini loves dynamic duos and is always seeking their other half. Your true pairing is:",
}

const Can = {
  name: 'Cancer',
  date: 'June 22 - July 22',
  truePairing: 'Taurus',
  sound: 'media/cancer_audio.mp3',
  description: "The Cancer has their inherent need to serve as a caregiver. A Cancer’s familial ties are strong, with emphasis on planting deep roots and feathering their nests. They love to encourage their loved ones to connect to their feelings, but can sometimes too strongly connect to their own! Ruled by the moon, a Cancer is known to get moody at times, but is also just sentimental and nostalgic by nature. Cancer is the sign of the feminine and the “mother” archetype. As the zodiac’s fourth sign, a Cancer’s love runs deep. Your true pairing is: ",
}

const Leo = {
  name: 'Leo',
  date: 'July 23 - August 22',
  truePairing: 'Sagittarius',
  sound: 'media/leo_audio_v02.mp3',
  description: "A Leo has a strong personality and a desire to take the stage (both literally and proverbially). They are proud and will wear their heart on their sleeve, but can often get swept away in personal theatrics. Yet, a Leo’s flair for powerful leadership can also let everyone have their spot in the sunshine. Leo is the sign of the hopeless romantic. As the zodiac’s fifth sign, Leo loves to be the center of attention. Positive Leo astrology traits include being generous, loyal, nakedly honest and entertaining. They’re not afraid to let their true essence shine in the Sun, which is also their planetary ruler. Leo energy leaves others feeling awakened and revitalized in an empowering way. Your true pairing is:",
}

const Vir = {
  name: 'Virgo',
  date: 'August 23 - September 22',
  truePairing: 'Pisces',
  sound: 'media/virgo_audio.mp3',
  description: "A Virgo is very opinionated and they despise laziness. They are highly productive and love analyzing a situation, but can often get stuck in analysis-paralysis as they nit-pick at all the details. Ruled by communication planet Mercury, a Virgo is an expert conversationalist. Virgo is the sign of the Virgin or Maiden, which is symbolic for a Virgo’s innocence or purity. As the zodiac’s sixth sign, Virgo loves anything streamlined and systematized. Virgo astrology traits include being dedicated, resourceful, helpful, hardworking and witty. They’re not afraid to speak their minds and voice their opinions! A Virgo can become anxious when they criticize themselves and others to the point of obsession. This is a sign that could benefit from the old adage, 'Nobody’s perfect.' Your true pairing is:",
}

const Lib = {
  name: 'Libra',
  date: 'September 23 - October 23',
  truePairing: 'Aquarius',
  sound: 'media/libra_audio.mp3',
  description: "Have you ever met someone who was diplomatic, romantic, highly aesthetic and a little indulgent? This person is a Libra, the sign born between September 23 - October 22. Learning the Libra star sign personality and Libra traits can help you coexist in harmony with this zodiac sign, which can be peaceful and loving but also moody, stubborn and indecisive. The Libra is in the inherent need for partnership. Libras have strong personalities, but function the most optimally as a dynamic duo. They strive for justice and fairness, and they’re often better at starting than finishing. As Libra’s attention is often up in the clouds—but make no mistake, they are still avid listeners nonetheless! Libra is the sign of the trendsetter and idea innovator. As the zodiac’s seventh sign, Libra loves a complementary relationship. Your true pairing is:",
}

const Sco = {
  name: 'Scorpio',
  date: 'October 24 - November 21',
  truePairing: 'Capricorn',
  sound: 'media/scorpio_audio.mp3',
  description: "The Scorpio is protective and magnetic but also secretive, possessive and vengeful. Chief among the traits of a Scorpio is their fierce need for relationships built on trust that are meant to last. A Scorpio has intense eyes, a hawk-like gaze and smooth movements. Ruled by power-monger Pluto, a Scorpio loves to be in a position of authority. It takes a lot to earn a Scorpio’s trust—though once you do there’s a strong chance the bond will last a lifetime. Scorpio is the sign of the trendsetter and intense intimacy. As the zodiac’s eighth sign, a Scorpio is known for their bravery. Your true pairing is:", 
}

const Sag = {
  name: 'Sagittarius',
  date: 'November 22 - December 21',
  truePairing: 'Leo',
  sound: 'media/sagittarius_audio.mp3',
  description: "Have you ever met someone who was expansive, outspoken and even a little bit metaphysical? Chances are, this person was a Sagittarius. Learning the Sagittarius star sign personality and Sagittarius traits can help you coexist in harmony with this zodiac sign, which can be adventurous and a risk-taker, but can also have their head stuck in the clouds with their lofty goals. Chief among the traits of a Sagittarius is their fierce need for expansion. A Sagittarius has a strong personality and they never want to stop learning. They love to travel and explore, but can sometimes lose touch with reality. It takes a lot to keep a Sagittarius’ attention—though when they find their obsessions they go in all the way! Ruled by worldly Jupiter, Sagittarius is the sign of dreaming big. As the zodiac’s tenth sign, Sagittarius loves to learn anything new. Your true pairing is:",
}

const Cap = {
  name: 'Capricorn',
  date: 'December 22 - January 19',
  truePairing: 'Scorpio',
  sound: 'media/capricorn_audio.mp3',
  description: "The Capricorn is known for their fierce drive for success. Capricorns are strong-minded and mature, and they are always on their A-game. They are competitive and love a challenge, and love when a solid structure is put into place. Ruled by taskmaster Saturn, a Capricorn is incredibly disciplined and will always ensure that a project, no matter how big or small, is seen through to its completion. Capricorn is the sign of the slow and steady Mountain Goat. As the ruler of the zodiac’s tenth house, Capricorns can be highly career-focused. Capricorn is a leadership-oriented cardinal sign and a stabilizing earth sign. Many Capricorns secretly wish to be able to take care of everything themselves and can often work themselves to the bone as a result. Your true pairing is:",
}

const Aqu = {
  name: 'Aquarius',
  date: 'January 20 - February 18',
  truePairing: 'Libra',
  sound: 'media/aquarius_audio.mp3',
  description: "Understanding Aquarius traits can help you coexist in harmony with this zodiac sign, who craves casual connections but can sometimes be emotionally detached. An Aquarius has the fierce need for rebellion. An Aquarius has a strong desire for freedom, but they also love to be surrounded by their vast network of friends. They are passionate advocates for their cutting edge ideas, but can sometimes come off as aloof. It takes a lot to hold an Aquarius’ attention span—though but when they find their obsessions they go in all the way! Aquarius is the sign of the trendsetter and trailblazer. As the zodiac’s eleventh sign, Aquarius loves creative collaborations and synergistic connections. Positive Aquarius astrology traits include communication, originality, open-mindedness, fairness, logical and inviting. They’re not afraid to speak up for what they believe. Aquarius becomes upset when they feel wronged in some way or when a friend or loved one has been hurt or offended. This friendship-focused sign has no tolerance for injustice! Your true pairing is:",
}

const Pis = {
  name: 'Pisces',
  date: 'February 19 - March 20',
  truePairing: 'Virgo',
  sound: 'media/pisces_audio.mp3',
  description: "Piscean energy awakens compassion, imagination and artistry, dissolving the boundaries that divide us. They are extremely compassionate, and can sometimes soak up the emotions of others like a sponge. You can spot a Pisces by their wide and dreamy eyes. Ruled by mystical Neptune, Pisces is the sign that governs dreams and the subconscious. As the zodiac’s twelfth sign, Pisces is all about healing and closure. Key Pisces astrology traits include being soft and romantic, helpful, wise, comforting and imaginative. Pisces can become upset when reality bursts their bubble. This is a sign that wants to live in a dream-like state! Your true pairing is:",
}

const getSign = [Ari,Tau,Gem,Can,Leo,Vir,Lib,Sco,Sag,Cap,Aqu,Pis];

//     INFO     ////////////////////////////////////////////////////////

// FORM   /////////////////////////////////////////////////////////
 
  var myForm = document.getElementById('formsub');

  myForm.addEventListener('submit', HandleForm, false); // FORM SUBMISSION LISTENER
    
    function mayDay() { // Error functionality
      document.getElementById('errorMe').style.color = "red"; // Error message is now visible
      document.getElementById('selected_info').style.display = 'none'; //If not valid, does not show info
    }
    
    function showInfo(selectedSign) { // VALID RESULTS functionality
      var selectedSign = eval(selectedSign);

      document.getElementById('selected_info').style.display = 'initial';
      document.getElementById('selected_info').style.height = '50vh';
      document.getElementById('zodiac_name').innerText = selectedSign.name;
      document.getElementById('zodiac_date').innerText = selectedSign.date;
      document.getElementById('vague_fru_text').innerText = selectedSign.description;
      document.getElementById('true_pairing').innerText = selectedSign.truePairing;
    }
  
    function HandleForm(event) {  
      // SUBMISSION functionality (check data, get sign, show results, play sound)
      var whichMonth = document.getElementById('month').value; // get number value from 0-11
      var whichDayOfMonth = document.getElementById('birthday').value; // get number value from 1-31
      
      const selectedSign = getSignData(whichMonth, whichDayOfMonth); 
      event.preventDefault();
      
      const playSound = (event) => { // SOUND FUNCTION
        var sound = new Audio(eval(selectedSign).sound);
        sound.play();
      }
      
      if (selectedSign === 'error') { 
        mayDay();
        
      } else {
        document.getElementById('errorMe').style.color = "black";
        showInfo(selectedSign);
        selectedIndex = getSign.indexOf(eval(selectedSign));
        selectedIndexNormal = getSign.indexOf(eval(selectedSign));
        playSound();

      rotateCarousel();
    }
  };

   // CAROUSEL ////////////////////////////////////////////////////////

 var carousel = document.querySelector('.carousel');
 var cellCount = 12;
 var selectedIndex = 0;
 var selectedIndexNormal = 0; //keeps the index of the carousel at 1-12
 
 function rotateCarousel() {  //This rotates the carousel
   var angle = selectedIndex / cellCount * -360;
   carousel.style.transform = 'translateZ(-288px) rotateY(' + angle + 'deg)';
 }
 
 //The following is the PREVIOUS BUTTON functionality
 var prevButton = document.querySelector('.previous-button');
 prevButton.addEventListener( 'click', function() {
   selectedIndex--;
   selectedIndexNormal = selectedIndex%12;
   if(selectedIndexNormal < 0) {
     selectedIndexNormal += 12; 
   }
   rotateCarousel();
 });
 
   //The following is the NEXT BUTTON functionality
 var nextButton = document.querySelector('.next-button');
 nextButton.addEventListener( 'click', function() {
   selectedIndex++;
   selectedIndexNormal = selectedIndex%12;
   if(selectedIndexNormal < 0) {
     selectedIndexNormal += 12; 
   }
   rotateCarousel();
 });

 // The following is the CAROUSEL USABILITY functionality + sound
 document.getElementById('ari').addEventListener('click', function(){
   showInfo(Ari);
   selectedIndex = getSign.indexOf(Ari);
   selectedIndexNormal = getSign.indexOf(Ari);
   rotateCarousel();}, false);
   var sound = new Audio(Ari.sound);
   sound.play();
 
 document.getElementById('tau').addEventListener('click', function(){
   showInfo(Tau);
   selectedIndex = getSign.indexOf(Tau);
   selectedIndexNormal = getSign.indexOf(Tau);
   rotateCarousel();}, false);
   var sound = new Audio(Tau.sound);
   sound.play();
 
 document.getElementById('gem').addEventListener('click', function(){
   showInfo(Gem);
   selectedIndex = getSign.indexOf(Gem);
   selectedIndexNormal = getSign.indexOf(Gem);
   rotateCarousel();}, false);
   var sound = new Audio(Gem.sound);
   sound.play();
 
 document.getElementById('can').addEventListener('click', function(){
   showInfo(Can);
   selectedIndex = getSign.indexOf(Can);
   selectedIndexNormal = getSign.indexOf(Can);
   rotateCarousel();}, false);
   var sound = new Audio(Can.sound);
   sound.play();
 
 document.getElementById('leo').addEventListener('click', function(){
   showInfo(Leo);
   selectedIndex = getSign.indexOf(Leo);
   selectedIndexNormal = getSign.indexOf(Leo);
   rotateCarousel();}, false);
   var sound = new Audio(Leo.sound);
   sound.play();
 
 document.getElementById('vir').addEventListener('click', function(){
   showInfo(Vir);
   selectedIndex = getSign.indexOf(Vir);
   selectedIndexNormal = getSign.indexOf(Vir);
   rotateCarousel();}, false);
   var sound = new Audio(Vir.sound);
   sound.play();
 
 document.getElementById('lib').addEventListener('click', function(){
   showInfo(Lib);
   selectedIndex = getSign.indexOf(Lib);
   selectedIndexNormal = getSign.indexOf(Lib);
   rotateCarousel();}, false);
   var sound = new Audio(Lib.sound);
   sound.play();
         
 document.getElementById('sco').addEventListener('click', function(){
   showInfo(Sco);
   selectedIndex = getSign.indexOf(Sco);
   selectedIndexNormal = getSign.indexOf(Sco);
   rotateCarousel();}, false);
   var sound = new Audio(Sco.sound);
   sound.play();
         
 document.getElementById('sag').addEventListener('click', function(){
   showInfo(Sag);
   selectedIndex = getSign.indexOf(Sag);
   selectedIndexNormal = getSign.indexOf(Sag);
   rotateCarousel();}, false);
   var sound = new Audio(Sag.sound);
   sound.play();
         
 document.getElementById('cap').addEventListener('click', function(){
   showInfo(Cap);
   selectedIndex = getSign.indexOf(Cap);
   selectedIndexNormal = getSign.indexOf(Cap);
   rotateCarousel();}, false);
   var sound = new Audio(Cap.sound);
   sound.play();
         
 document.getElementById('aqu').addEventListener('click', function(){
   showInfo(Aqu);
   selectedIndex = getSign.indexOf(Aqu);
   selectedIndexNormal = getSign.indexOf(Aqu);
   rotateCarousel();}, false);
   var sound = new Audio(Aqu.sound);
   sound.play();
         
 document.getElementById('pis').addEventListener('click', function(){
   showInfo(Pis);
   selectedIndex = getSign.indexOf(Pis);
   selectedIndexNormal = getSign.indexOf(Pis);
   rotateCarousel();}, false);
   var sound = new Audio(Pis.sound);
   sound.play();

//     ZODIAC ALGORITHM    ///////////////////////////////////////////////////////

function getSignData (whichMonth, whichDayOfMonth) {
  var AstroSign = '';

if ((whichMonth == 12 && whichDayOfMonth >= 22) || (whichMonth == 1 && whichDayOfMonth <= 19)) {
    AstroSign = "Cap";
  } else if ((whichMonth == 11 && whichDayOfMonth >= 22) || (whichMonth == 12 && whichDayOfMonth <= 21)) {
    AstroSign = "Sag";
  } else if ((whichMonth == 10 && whichDayOfMonth >= 24) || (whichMonth == 11 && whichDayOfMonth <= 21)) {
    AstroSign = "Sco";
  } else if ((whichMonth == 9 && whichDayOfMonth >= 23) || (whichMonth == 10 && whichDayOfMonth <= 23)) {
    AstroSign = "Lib";
  } else if ((whichMonth == 8 && whichDayOfMonth >= 23) || (whichMonth == 9 && whichDayOfMonth <= 22)) {
    AstroSign = "Vir";
  } else if ((whichMonth == 7 && whichDayOfMonth >= 23) || (whichMonth == 8 && whichDayOfMonth <= 22)) {
    AstroSign = "Leo";
  } else if ((whichMonth == 6 && whichDayOfMonth >= 22) || (whichMonth == 7 && whichDayOfMonth <= 22)) {
    AstroSign = "Can";
  } else if ((whichMonth == 5 && whichDayOfMonth >= 21) || (whichMonth == 6 && whichDayOfMonth <= 21)) {
    AstroSign = "Gem";
  } else if ((whichMonth == 4 && whichDayOfMonth >= 20) || (whichMonth == 5 && whichDayOfMonth <= 20)) {
    AstroSign = "Tau";
  } else if ((whichMonth == 3 && whichDayOfMonth >= 21) || (whichMonth == 4 && whichDayOfMonth <= 19)) {
    AstroSign = "Ari";
  } else if ((whichMonth == 2 && whichDayOfMonth >= 19) || (whichMonth == 3 && whichDayOfMonth <= 20)) {
    AstroSign = "Pis";
  } else if ((whichMonth == 1 && whichDayOfMonth >= 20) || (whichMonth == 2 && whichDayOfMonth <= 18)) {
    AstroSign = "Aqu";
  }

  //   RESTRICTIONs   /////////////////////////////////////////////////////////////////////////////
     //Valid months with 31 days
if ((whichMonth == 1|| whichMonth == 3|| whichMonth == 5|| whichMonth == 7|| whichMonth == 8||
  whichMonth == 10|| whichMonth == 12) && (whichDayOfMonth < 1 || whichDayOfMonth > 31)) {
     AstroSign = 'error';

    //Valid months with 30 days
 } else if ((whichMonth == 9|| whichMonth == 4|| whichMonth == 6|| whichMonth == 11)
 && (whichDayOfMonth < 1 || whichDayOfMonth > 30)) {
    AstroSign = 'error';

    //valid month with 29 days
  } else if  ((whichMonth == 2)
  && (whichDayOfMonth < 1 || whichDayOfMonth > 29)) {
     AstroSign = 'error';
  }

  return AstroSign;
}